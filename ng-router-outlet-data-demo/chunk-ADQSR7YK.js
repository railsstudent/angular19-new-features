import{D as w,a as f,b as p,c as m,f as l,g as a,h as v,j as d,m as h,o as y,r as c,ra as C,s as b,ua as k,y as g}from"./chunk-UIB5I5OW.js";function x(t){t||(b(x),t=c(g));let r=new m(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(h(r))}function R(t){return t?.injector||b(R),C(p(f({},t),{loader:void 0,stream:r=>{let e,n=()=>e.unsubscribe();r.abortSignal.addEventListener("abort",n);let s=w({value:void 0}),i,j=new Promise(o=>i=o);function u(o){s.set(o),i?.(s),i=void 0}return e=t.loader(r).subscribe({next:o=>u({value:o}),error:o=>u({error:o}),complete:()=>{i&&u({error:new Error("Resource completed before producing a value")}),r.abortSignal.removeEventListener("abort",n)}}),j}}))}function O(t,r,e){return{id:t,isSith:r,gender:e.gender,eyeColor:e.eye_color,hairColor:e.hair_color,skinColor:e.skin_color,name:e.name,films:e.films}}var S=class t{#e=c(k);retrieveCharacter(r,e){return this.#e.get(`https://swapi.py4e.com/api/people/${r}`).pipe(a(n=>O(r,e,n)),d(n=>(console.error(n),l(void 0))))}retrieveCharacterNameByUrl(r){return this.#e.get(r).pipe(a(e=>e.name),d(e=>(console.error(e),l(""))))}retrieveCharacters({ids:r,isSith:e}){let n=r.map(s=>this.retrieveCharacter(s,e));return v(n).pipe(a(s=>s.filter(i=>typeof i<"u")))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};export{x as a,R as b,S as c};
