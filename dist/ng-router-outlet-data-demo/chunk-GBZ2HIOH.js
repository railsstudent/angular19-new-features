import{a as i,b as a,ka as b,n as d,x as l}from"./chunk-3HYMCOWP.js";function v(n){return n?.injector||d(v),b(a(i({},n),{loader:void 0,stream:r=>{let s,u=()=>s.unsubscribe();r.abortSignal.addEventListener("abort",u);let c=l({value:void 0}),t,f=new Promise(e=>t=e);function o(e){c.set(e),t?.(c),t=void 0}return s=n.loader(r).subscribe({next:e=>o({value:e}),error:e=>o({error:e}),complete:()=>{t&&o({error:new Error("Resource completed before producing a value")}),r.abortSignal.removeEventListener("abort",u)}}),f}}))}export{v as a};
