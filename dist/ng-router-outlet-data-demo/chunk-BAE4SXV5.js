import{b as M,c as A}from"./chunk-ZMAOSPHI.js";import{$ as D,A as F,B as W,D as h,F as a,I as C,M as x,O as p,Q as L,S as y,T as R,U as i,V as n,W as T,X as f,Y as _,Z as l,_ as o,aa as g,fa as N,ga as E,ha as b,ka as k,r as w,u as m,v as u,wa as V,xa as O,ya as I}from"./chunk-TMBBLDCF.js";var U=t=>[t],S=class t{c=W.required();selectedFighter=h(void 0);showFighter=F();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-star-wars-card"]],inputs:{c:[1,"c"]},outputs:{showFighter:"showFighter"},decls:7,vars:6,consts:[[1,"card"],[3,"click","routerLink"]],template:function(e,s){if(e&1){let c=f();i(0,"div",0),N(1),i(2,"span"),o(3),n(),o(4,"\xA0\xA0\xA0 "),i(5,"a",1),_("click",function(){m(c);let P=b(1);return u(s.showFighter.emit(P))}),o(6),n()()}if(e&2){a();let c=E(s.c());a(2),g("Id: ",c.id,""),a(2),p("routerLink",k(4,U,c.id)),a(),D(s.c().name)}},dependencies:[I],styles:[".card[_ngcontent-%COMP%]{border:1px solid black;border-radius:.25rem;margin-bottom:.25rem;padding:.35rem}"],changeDetection:0})};var $=(t,r)=>r.id;function z(t,r){t&1&&(i(0,"p"),o(1,"Loading characters..."),n())}function B(t,r){if(t&1&&(i(0,"p"),o(1),n()),t&2){let e=l();a(),g("Error: ",e.charactersResource.error(),"")}}function G(t,r){if(t&1){let e=f();i(0,"app-star-wars-card",3),_("showFighter",function(c){m(e);let v=l(3);return u(v.selectedFighter.set(c))}),n()}if(t&2){let e=r.$implicit;p("c",e)}}function H(t,r){if(t&1&&(y(0,G,1,1,"app-star-wars-card",1,$),T(2,"router-outlet",2)),t&2){let e=l(2);R(e.charactersResource.value()),a(2),p("routerOutletData",e.selectedFighter())}}function J(t,r){if(t&1&&x(0,H,3,1),t&2){let e=l();L(e.charactersResource.hasValue()?0:-1)}}var d=class t{fighterList=w(V);starWarsCharactersService=w(A);selectedFighter=h(void 0);charactersResource=M({request:()=>this.fighterList(),loader:({request:r})=>this.starWarsCharactersService.retrieveCharacters(r),defaultValue:[]});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-starwars-list"]],decls:6,vars:1,consts:[[1,"fighters"],[3,"c"],[3,"routerOutletData"],[3,"showFighter","c"]],template:function(e,s){e&1&&(i(0,"div")(1,"h3",0),o(2,"Fighters"),n(),x(3,z,2,0,"p")(4,B,2,1,"p")(5,J,1,1),n()),e&2&&(a(3),L(s.charactersResource.isLoading()?3:s.charactersResource.error()?4:5))},dependencies:[S,O],styles:[".fighters[_ngcontent-%COMP%]{font-style:italic;text-decoration:underline;margin-bottom:.5rem}"],changeDetection:0})};var K=[{path:"",component:d,children:[{path:":id",title:"Star Wars Fighter",loadChildren:()=>import("./chunk-LG5XXGTZ.js")}]}],dt=K;export{dt as default};
